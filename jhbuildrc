# -*- mode: python -*-
# -*- coding: utf-8 -*-

use_local_modulesets = False

# edit this file to match your settings and copy it to ~/.config/jhbuildrc

# if you have a GNOME git account, uncomment this line
repos['git.gnome.org'] = 'ssh://beniofel@git.gnome.org/git/'

#use_local_modulesets = True
# what module set should be used.  The default can be found in
# jhbuild/defaults.jhbuildrc, but can be any file in the modulesets directory
# or a URL of a module set file on a web server.
moduleset = ['gnome-apps-3.24', 'gnome-world']
#
# A list of the modules to build.  Defaults to the GNOME core and tested apps.
# modules = [ 'meta-gnome-core', 'meta-gnome-apps-tested' ]

# Or to build the old GNOME 2.32:
# moduleset = 'gnome2/gnome-2.32'
# modules = ['meta-gnome-desktop']

# what directory should the source be checked out to?
checkoutroot = '~/jhbuild/checkout'

# the prefix to configure/install modules to (must have write access)
prefix = '~/jhbuild/install'

# custom CFLAGS / environment pieces for the build
os.environ['CFLAGS'] = '-g -O0'
os.environ['CC'] = 'clang'
os.environ['CXX'] = 'clang++'
os.environ['LD'] = 'ld.gold'

# extra arguments to pass to all autogen.sh scripts
autogenargs = ' --disable-static --disable-gtk-doc'
#module_autogenargs['gdm'] = '--with-plymouth=no'
#module_autogenargs['colord'] = '--disable-argyllcms-sensor'
#module_autogenargs['nautilus'] = '--disable-selinux'
#module_autogenargs['gnome-session'] = '--disable-docbook-docs'
#module_autogenargs['cogl'] = '--enable-wayland-egl-platform --enable-wayland-egl-server --enable-kms-egl-platform'
#module_autogenargs['libmbim'] = '--disable-more-warnings'
#module_autogenargs['gtk+-2'] = '--disable-gtk-doc-html'
#
module_autogenargs['nautilus'] = '--disable-selinux'
module_autogenargs['at-spi2-core'] = '--enable-x11'
for _module in module_autogenargs:
    module_autogenargs[_module] += autogenargs
#
#for _module in ['libqmi', 'nautilus-sendto', 'gitg']:
#    module_extra_env[_module] = {'CC': 'gcc'}
#module_extra_env['gst-plugins-base'] = {'CXXFLAGS': '-std=c++11'}

module_extra_env['vala'] = {
    'VALAFLAGS': '-g'
}

# A string listing additional arguments to be passed to make.
# Set makeargs to 'V=1' for verbose build output.
#makeargs = ''

skip = ['WebKit']
